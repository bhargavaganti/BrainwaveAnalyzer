<!DOCTYPE html>
<!--
  - Brainwave Analyzer
  - https://github.com/katie356/BrainwaveAnalyzer
  - Open source under the MIT License
  -->
<html>
<head>
	<meta charset="UTF-8">
	<title>Brainwave Analyzer</title>
	<link rel="Stylesheet" href="resources/style.css" type="text/css">
</head>

<body>
<header>
	<h1>Brainwave Analyzer</h1>
</header>

<article>
<section>
	<h2>Input data</h2>
	<p>Select an OpenVibe CSV file:<br>
	<input type="file" id="input-file" accept=".csv"><br>
	<input type="button" value="Analyze" onclick="doAnalyze();">
	<input type="button" value="Clear" onclick="doClear();"></p>
</section>

<section>
	<h2>Output analysis</h2>
	<div id="results" style="display:none">
		<h3>Results for entire time period</h3>
		<p>Frequency bands per second:</p>
		<canvas id="per-second-bands" width="800" height="500"></canvas>
		<p>Median power per minute:</p>
		<canvas id="per-minute-bands" width="800" height="500"></canvas>
		
		<div id="overall-power-and-file-name">
			<div>
				<p>Overall power distribution:</p>
				<table id="power-distribution">
					<tbody>
						<tr><td>0 Hz ≤ Delta band &lt; 4 Hz</td><td id="delta-overall"></td></tr>
						<tr><td>4 Hz ≤ Theta band &lt; 8 Hz</td><td id="theta-overall"></td></tr>
						<tr><td>8 Hz ≤ Alpha band &lt; 14 Hz</td><td id="alpha-overall"></td></tr>
						<tr><td>14 Hz ≤ Beta band &lt; 32 Hz</td><td id="beta-overall" ></td></tr>
						<tr><td>32 Hz ≤ Gamma band &lt; ∞ Hz</td><td id="gamma-overall"></td></tr>
					</tbody>
				</table>
			</div>
			<div>
				<p>Input file name:</p>
				<p id="file-name-display"></p>
			</div>
		</div>
		
		<hr>
		<h3>File export</h3>
		<div id="file-export-table">
			<p>
				<span>Export band powers per second:</span>
				<span>
					<input type="text" id="export-bands-file-name" value="brainwave-bands.csv" placeholder="example.csv" style="width:15em">
					<input type="button" value="Download file" onclick="downloadBandsCsv();">
				</span>
			</p>
			<p>
				<span>Export numbers table for all seconds:</span>
				<span>
					<input type="text" id="export-numbers-file-name" value="brainwave-numbers.csv" placeholder="example.csv" style="width:15em">
					<input type="button" value="Download file" onclick="downloadNumbersCsv();">
				</span>
			</p>
		</div>
		<a id="downloader"></a>
		<hr>
		
		<h3>Results per second of data</h3>
		<p>
			Time offset:
			<input type="button" value="&lt;" onclick="doDisplayPreviousSecond();">
			<select id="time-offset"></select>
			<input type="button" value="&gt;" onclick="doDisplayNextSecond();">
			seconds
		</p>
		
		<p>Brainwave:</p>
		<canvas id="brainwave" width="800" height="200"></canvas>
		
		<p>Frequency spectrum:</p>
		<canvas id="frequency-spectrum" width="800" height="200"></canvas>
		
		<p>Numbers:</p>
		<table id="numbers">
			<thead>
				<th>Time</th>
				<th>Electrode</th>
				<th>FFT</th>
				<th>FFTimag</th>
				<th>Amplitude</th>
				<th>FreqIndex</th>
				<th>Seconds</th>
				<th>Delta</th>
				<th>Theta</th>
				<th>Alpha</th>
				<th>Beta</th>
				<th>Gamma</th>
			</thead>
			<tbody id="numbers-table"></tbody>
			<tfoot>
				<th>Time</th>
				<th>Electrode</th>
				<th>FFT</th>
				<th>FFTimag</th>
				<th>Amplitude</th>
				<th>FreqIndex</th>
				<th>Seconds</th>
				<th>Delta</th>
				<th>Theta</th>
				<th>Alpha</th>
				<th>Beta</th>
				<th>Gamma</th>
			</tfoot>
		</table>
	</div>
</section>

<section id="about">
	<h2>About <i>Brainwave Analyzer</i></h2>
	<p>The Brainwave Analyzer is a project of Alpha Gamma Waves Blog – <a href="https://alphagammawaves.wordpress.com/">https://alphagammawaves.wordpress.com/</a><br>
	Help documentation – <a href="https://alphagammawaves.wordpress.com/brainwave-analyzer/">https://alphagammawaves.wordpress.com/brainwave-analyzer/</a><br>
	GitHub project repository – <a href="https://github.com/katie356/BrainwaveAnalyzer">https://github.com/katie356/BrainwaveAnalyzer <img src="resources/github-icon.svg" style="width:1.2em; height:1.2em; vertical-align:middle"></a><br>
	Software created in JavaScript by Project Nayuki – <a href="https://www.nayuki.io/">https://www.nayuki.io/</a><br>
	The code is open source under the <a href="https://opensource.org/licenses/MIT">MIT License</a>.</p>
</section>
</article>

<script src="resources/Chart.min.js" type="text/javascript"></script>
<script src="resources/brainwave-analyzer.js" type="text/javascript"></script>
</body>
</html>
